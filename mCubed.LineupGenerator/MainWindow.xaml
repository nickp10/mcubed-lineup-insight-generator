<Window x:Class="LineupGenerator.MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		Title="Lineup Generator"
		Height="800"
		Width="1000">
	<Grid>
		<Grid Margin="10">
			<Grid.RowDefinitions>
				<RowDefinition Height="*" />
				<RowDefinition Height="10" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>
			<GroupBox Grid.Row="0"
					  Header="Players">
				<Grid Margin="10">
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition Height="10" />
						<RowDefinition Height="*" />
						<RowDefinition Height="10" />
						<RowDefinition Height="Auto" />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="10" />
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="10" />
						<ColumnDefinition Width="Auto" />
					</Grid.ColumnDefinitions>
					<Label Grid.Row="0"
						   Grid.Column="0"
						   Content="Game ID:" />
					<TextBox Grid.Row="0"
							 Grid.Column="2"
							 Padding="0,5"
							 VerticalAlignment="Center"
							 Text="{Binding GameID, UpdateSourceTrigger=PropertyChanged}" />
					<Button Grid.Row="0"
							Grid.Column="4"
							Content="Retrieve Players"
							Click="OnRetrievePlayersClick"
							Padding="5" />
					<TabControl Grid.Row="2"
								Grid.ColumnSpan="5"
								DisplayMemberPath="Key"
								IsSynchronizedWithCurrentItem="True"
								ItemsSource="{Binding AllPlayersGrouped}">
						<TabControl.ItemContainerStyle>
							<Style TargetType="{x:Type TabItem}">
								<Setter Property="Padding"
										Value="25,5" />
							</Style>
						</TabControl.ItemContainerStyle>
						<TabControl.ContentTemplate>
							<DataTemplate>
								<ScrollViewer>
									<ItemsControl Grid.IsSharedSizeScope="True"
												  Focusable="False"
												  Margin="5"
												  ItemsSource="{Binding}">
										<ItemsControl.ItemTemplate>
											<DataTemplate>
												<ToggleButton IsChecked="{Binding IncludeInLineups, Mode=TwoWay}">
													<ToggleButton.Template>
														<ControlTemplate TargetType="{x:Type ToggleButton}">
															<Border Background="{TemplateBinding Background}"
																	BorderBrush="#CCC"
																	BorderThickness="1"
																	Margin="0,1"
																	Padding="10"
																	Cursor="Hand">
																<Grid>
																	<Grid.ColumnDefinitions>
																		<ColumnDefinition Width="*" />
																		<ColumnDefinition Width="10" />
																		<ColumnDefinition Width="Auto"
																						  SharedSizeGroup="SalaryColumn" />
																	</Grid.ColumnDefinitions>
																	<TextBlock Grid.Column="0"
																			   Text="{Binding Name}" />
																	<TextBlock Grid.Column="2"
																			   Text="{Binding Salary, StringFormat={}{0:C}}" />
																</Grid>
															</Border>
															<ControlTemplate.Triggers>
																<Trigger Property="IsMouseOver"
																		 Value="False">
																	<Setter Property="Background"
																			Value="White" />
																</Trigger>
																<Trigger Property="IsChecked"
																		 Value="True">
																	<Setter Property="Background"
																			Value="#C0C6EB" />
																</Trigger>
																<Trigger Property="IsMouseOver"
																		 Value="True">
																	<Setter Property="Background"
																			Value="#DADDED" />
																</Trigger>
															</ControlTemplate.Triggers>
														</ControlTemplate>
													</ToggleButton.Template>
												</ToggleButton>
											</DataTemplate>
										</ItemsControl.ItemTemplate>
									</ItemsControl>
								</ScrollViewer>
							</DataTemplate>
						</TabControl.ContentTemplate>
					</TabControl>
					<Button Grid.Row="4"
							Grid.ColumnSpan="5"
							HorizontalAlignment="Center"
							Content="Generate Lineups"
							Click="OnGenerateLineupsClick"
							Padding="5" />
				</Grid>
			</GroupBox>
			<GroupBox Grid.Row="2"
					  Header="Lineups">
				<ListView ItemsSource="{Binding Lineups}"
						  Margin="10"
						  x:Name="LineupsListView">
					<ListView.View>
						<GridView>
							<GridViewColumn Width="400">
								<GridViewColumn.Header>
									<GridViewColumnHeader Tag="PlayersString"
														  Click="GridViewColumnHeaderClickedHandler">Lineup</GridViewColumnHeader>
								</GridViewColumn.Header>
								<GridViewColumn.CellTemplate>
									<DataTemplate>
										<TextBlock Text="{Binding PlayersString}"
												   TextWrapping="Wrap" />
									</DataTemplate>
								</GridViewColumn.CellTemplate>
							</GridViewColumn>
							<GridViewColumn DisplayMemberBinding="{Binding TotalProjectedPoints}"
											Width="100">
								<GridViewColumn.Header>
									<GridViewColumnHeader Tag="TotalProjectedPoints,Descending"
														  Click="GridViewColumnHeaderClickedHandler">Projected</GridViewColumnHeader>
								</GridViewColumn.Header>
							</GridViewColumn>
							<GridViewColumn DisplayMemberBinding="{Binding TotalRecentAveragePoints}"
											Width="100">
								<GridViewColumn.Header>
									<GridViewColumnHeader Tag="TotalRecentAveragePoints,Descending"
														  Click="GridViewColumnHeaderClickedHandler">Recent PPG</GridViewColumnHeader>
								</GridViewColumn.Header>
							</GridViewColumn>
							<GridViewColumn DisplayMemberBinding="{Binding TotalSeasonAveragePoints}"
											Width="100">
								<GridViewColumn.Header>
									<GridViewColumnHeader Tag="TotalSeasonAveragePoints,Descending"
														  Click="GridViewColumnHeaderClickedHandler">Season PPG</GridViewColumnHeader>
								</GridViewColumn.Header>
							</GridViewColumn>
							<GridViewColumn DisplayMemberBinding="{Binding Rating}"
											Width="75">
								<GridViewColumn.Header>
									<GridViewColumnHeader Tag="Rating,Descending"
														  Click="GridViewColumnHeaderClickedHandler">Rating</GridViewColumnHeader>
								</GridViewColumn.Header>
							</GridViewColumn>
							<GridViewColumn DisplayMemberBinding="{Binding TotalSalary, StringFormat={}{0:C}}"
											Width="80">
								<GridViewColumn.Header>
									<GridViewColumnHeader Tag="TotalSalary,Descending"
														  Click="GridViewColumnHeaderClickedHandler">Salary</GridViewColumnHeader>
								</GridViewColumn.Header>
							</GridViewColumn>
						</GridView>
					</ListView.View>
				</ListView>
			</GroupBox>
		</Grid>
		<Border Background="#AA000000">
			<Border.Style>
				<Style TargetType="{x:Type Border}">
					<Setter Property="Visibility"
							Value="Visible" />
					<Style.Triggers>
						<DataTrigger Binding="{Binding CurrentProcess}"
									 Value="{x:Null}">
							<Setter Property="Visibility"
									Value="Collapsed" />
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</Border.Style>
			<Border Background="White"
					BorderBrush="Black"
					BorderThickness="1"
					CornerRadius="5"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Opacity="1"
					Padding="100,50">
				<TextBlock FontWeight="Bold"
						   FontSize="16"
						   Text="{Binding CurrentProcess}" />
			</Border>
		</Border>
	</Grid>
</Window>
